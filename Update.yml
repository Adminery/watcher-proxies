name: MTProto Watcher

on:
schedule:
- cron: "0 */1 * * *"
workflow_dispatch:

jobs:
scan:
runs-on: ubuntu-latest

steps:  
  - name: Checkout repo  
    uses: actions/checkout@v4  

  - name: Setup Python  
    uses: actions/setup-python@v5  
    with:  
      python-version: "3.11"  

  - name: Install dependencies  
    run: |  
      pip install requests  

  - name: Run scanner  
    run: |  
      python scanner.py  

  - name: Commit & Push  
    run: |  
      git config user.name "github-actions"  
      git config user.email "actions@github.com"  
      git add proxies.json  
      git commit -m "auto update proxies" || exit 0  
      git push

درسته؟
